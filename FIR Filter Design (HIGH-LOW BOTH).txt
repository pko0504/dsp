% Simple FIR Filter Design using Window Method (Lowpass or Highpass) 

clc;
clear;

% Step 2: Enter filter specifications
Fs = 1000;	% Sampling frequency in Hz
Wp = 200;		% Passband frequency in Hz
Ws = 300;	% Stopband frequency in Hz
N = 20;	% Filter order

% Choose filter type: 'lowpass' or 'highpass' 

filterType = 'lowpass'; % 'lowpass' or 'highpass'

% Step 4: Design the filter
if strcmp(filterType, 'lowpass')
    b = fir1(N, Wp / (Fs / 2), 'low', hamming(N+1)); % Low-pass filter
elseif strcmp(filterType, 'highpass')
    b = fir1(N, Wp / (Fs / 2), 'high', hamming(N+1)); % High-pass filter 
end

% Step 5: Frequency Response 
[H, F] = freqz(b, 1, 512, Fs);
% Step 6: Plot magnitude and phase 
subplot(2, 1, 1);
plot(F, abs(H));	% Magnitude plot 
title('Magnitude Response'); 
xlabel('Frequency (Hz)');
ylabel('Gain (dB)');
subplot(2, 1, 2);
plot(F, angle(H));	% Phase plot
title('Phase Response'); xlabel('Frequency (Hz)'); ylabel('Angle');
